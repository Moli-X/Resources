// ==UserScript==
// @ScriptName        Embyå¢å¼º[å¢¨é±¼æ•´ç†ç‰ˆ]
// @Author            @renzhipengBot åŸåˆ›ï¼Œ@AppleArcade é­”æ”¹
// @Function          Embyå®˜æ–¹å®¢æˆ·ç«¯å†…è°ƒç”¨å¤–éƒ¨æ’­æ”¾å™¨ï¼Œè¯¥åŠŸèƒ½éœ€è¦è‡ªè¡Œæ·»åŠ EmbyæœåŸŸåçš„MITM
// @WechatID          å¢¨é±¼æ‰‹è®°
// @TgChannel         https://t.me/ddgksf2021
// @Contribute        https://t.me/ddgksf2013_bot
// @Feedback          ğŸ“® ddgksf2013@163.com ğŸ“®
// @UpdateTime        2024-01-24
// @Suitable          è‡ªè¡Œè§‚çœ‹â€œ# > â€æ³¨é‡Šå†…å®¹
// @Version           V1.0.2
// @ScriptURL         https://raw.githubusercontent.com/ddgksf2013/Rewrite/refs/heads/master/Function/EmbyPlugin.conf
// ==/UserScript==



hostname = mb3admin.com, *.emby.wtf, *.plusmedia.site
  
# > æ’­æ”¾è§£é”
^https?:\/\/mb3admin.com\/admin\/service\/registration\/validateDevice url script-response-body https://raw.githubusercontent.com/rartv/EmbyPublic/test/quantumult-x/unlock.js
# > æ·»åŠ å¤–éƒ¨æ’­æ”¾å™¨è¿æ¥
\/[Uu]sers\/\w{32}\/[Ii]tems\/\d+\?? url script-response-body https://raw.githubusercontent.com/rartv/EmbyPublic/refs/heads/test/surge/emby-plugin.js
# > æ‰“å¼€å¤–éƒ¨æ’­æ”¾å™¨
\/plugin\/scheme url script-echo-response https://raw.githubusercontent.com/rartv/EmbyPublic/refs/heads/test/surge/emby-plugin.js
# > èµ„æºè·¯å¾„ä¼ªé™æ€
(\/[Vv]ideos\/\d+\/stream\/.+\?.+&filename)|(\/[Vv]ideos\/\d+\/\w{32}\/[Ss]ubtitles\/\d+\/.+\?.+&filename) url script-request-header https://raw.githubusercontent.com/rartv/EmbyPublic/refs/heads/test/surge/emby-plugin.js
# > ä¸‹è½½æ–‡ä»¶é‡å‘½å
(\/[Vv]ideos\/\d+\/stream\?.+&filename)|(\/[Vv]ideos\/\d+\/\w{32}\/[Ss]ubtitles\/.+&filename) url script-response-header https://raw.githubusercontent.com/rartv/EmbyPublic/refs/heads/test/surge/download_file_rename.js
# > è§£å†³QXæŠ“å–æŸäº›å…¬ç›Šæœè¯¥è¯·æ±‚ä¹±ç é—®é¢˜
\/Users\/\w{32}\/Items\/\d+\? url request-header (\r\n)Accept-Encoding:.+ request-header $Accept-Encoding: gzip, deflate, br
